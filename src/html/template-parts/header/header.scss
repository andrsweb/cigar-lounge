@use '../../../scss/vars/vars' as v;
@use '../../../scss/mixins/media' as m;
@use '../../../scss/mixins/global' as g;
@use '../../../scss/utils/placeholders/buttons/button' as *;
@use "sass:math";

.header {
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	padding: 24px 0;
	z-index: 100;

	&-wrapper {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 64px;
		position: relative;

		@include m.media(xxl) {
			&:before, &:after {
				content: '';
				position: fixed;
				top: 0;
				left: 50%;
				z-index: 100;
				width: 1px;
				min-height: 100dvh;
				background-color: #44413E;
			}

			&:before {
				transform: translateX(-50%) translateX(math.div(-1200px, 2) - 80px);
			}

			&:after {
				transform: translateX(-50%) translateX(math.div(1200px, 2) + 80px);
			}
		}

		.burger-button {
			@extend %button;
			width: 40px;
			height: 40px;
			position: relative;
			z-index: 100;

			@include m.media(md) {
				width: 44px;
				height: 44px;
			}

			@include m.media(xl) {
				width: 70px;
				height: 70px;
			}

			span {
				position: absolute;
				left: 0;
				top: 50%;
				transform: translateY(-50%);
				width: 21px;
				height: 1.5px;
				background-color: v.$white;
				transition: width ease v.$tr;

				@include m.media(md) {
					width: 24px;
					height: 2px;
				}

				@include m.media(xl) {
					width: 34px;
					height: 2.5px;
				}

				&:before, &:after {
					content: '';
					position: absolute;
					left: 0;
					display: block;
					width: 30px;
					height: 1.5px;
					background-color: v.$white;
					transition: transform ease v.$tr, top ease v.$tr;

					@include m.media(md) {
						width: 44px;
						height: 2px;
					}

					@include m.media(xl) {
						width: 64px;
						height: 2.5px;
					}
				}

				&:before {
					top: -11px;
				}

				&:after {
					top: 11px;
				}
			}

			@include g.hover() {
				opacity: v.$op;
			}
		}
	}

	&.is-active {
		.burger-button {
			span {
				width: 0;

				&:before {
					transform: rotate(45deg);
					top: 50%;
				}

				&:after {
					transform: rotate(-45deg);
					top: 50%;
				}
			}
		}

		.burger-menu {
			display: flex;
		}
	}

	&.is-hiding {
		.burger-menu {
			animation: fadeOut ease-out forwards 200ms;

			@keyframes fadeOut {
				0% { opacity: 1; } 100% { opacity: 0; }
			}
		}
	}

	&.is-hidden {
		.burger-menu {
			display: none;
		}
	}

	.burger-menu {
		position: fixed;
		inset: 0;
		width: 100vw;
		height: 100dvh;
		margin: auto 0;
		overflow-y: auto;
		background-color: v.$background;
		animation: fadeIn ease-out forwards v.$tr;
		z-index: 99;
		padding: 150px 0 70px;

		@include m.media(md) {
			padding: 150px 0;
		}

		@keyframes fadeIn {
			0% { opacity: 0; } 100% { opacity: 1; }
		}

		&-inner {
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 70px;

			nav {
				max-width: 496px;

				.menu {
					display: flex;
					flex-direction: column;
					align-items: center;
					gap: 20px;
					counter-reset: item;

					@include m.media(md) {
						gap: 30px;
					}

					&-item {
						counter-increment: item;

						a {
							display: flex;
							align-items: center;
							gap: 10px;
							color: v.$white;
							font-family: v.$ff-title;
							font-size: 18px;
							font-weight: v.$fw-regular;
							line-height: 140%;
							position: relative;
							transition: transform ease v.$tr, opacity ease v.$tr;

							&:before {
								content: counter(item, decimal-leading-zero);
								color: v.$gray;
								text-align: center;
								font-family: v.$ff-title;
								font-size: 14px;
								font-weight: v.$fw-regular;
								line-height: 110%;
								padding-top: 10px;
								transition: transform ease v.$tr;

								@include m.media(md) {
									font-size: 18px;
								}
							}

							@include m.media(md) {
								gap: 14px;
								font-size: 28px;
							}

							@include g.hover() {
								transform: translateX(2px);

								&:before {
									transform: translateX(-4px);
								}
							}
						}
					}
				}
			}
		}

		&-footer {
			width: 100%;
			display: flex;
			flex-direction: column-reverse;
			align-items: center;
			gap: 30px;

			@include m.media(md) {
				flex-direction: row;
				justify-content: space-between;
			}

			.copyright {
				color: v.$main-text;
				font-family: v.$ff;
				font-size: 14px;
				font-weight: v.$fw-regular;
				line-height: 150%;

				@include m.media(xl) {
					font-size: 16px;
				}
			}
		}

		.header-socials {
			display: flex;
			align-items: center;
			gap: 8px;
			position: relative;

			li {
				a {
					display: flex;
					justify-content: center;
					align-items: center;
					width: 50px;
					height: 50px;
					background-color: transparent;
					border-radius: 50%;
					outline: 1px solid v.$el;
					transition: background-color ease v.$tr, border-color ease v.$tr;

					@include m.media(md) {
						width: 50px;
						height: 50px;
					}

					svg {
						width: 100%;
						height: 100%;
						max-width: 19px;
						max-height: 19px;

						@include m.media(md) {
							max-width: 22px;
							max-height: 22px;
						}

						path {
							transition: fill ease v.$tr;
						}
					}

					@include g.hover() {
						background-color: v.$white;
						border-color: v.$white;

						svg {
							path {
								fill: v.$background;
							}
						}
					}
				}
			}
		}
	}
}